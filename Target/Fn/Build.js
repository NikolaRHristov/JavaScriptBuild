import l from"../Fn/File.js";import f from"../Object/Option.js";import m from"fast-glob";import{exec as o}from"child_process";import{deepmerge as s}from"deepmerge-ts";import{build as c}from"esbuild";var b=async(p,t)=>{const r=[];for(const e of p)for(const a of await m(e.replaceAll("'","").replaceAll('"',"")))r.push(a);r.reverse();const i=s(f,{entryPoints:Object.fromEntries(r.map(e=>[e.replace("Source/","").split(".").slice(0,-1).join("."),e]))});await c(t?.ESBuild?s(i,await l(t?.ESBuild)):i),t?.TypeScript?o(`tsc -p ${t?.TypeScript}`):o("tsc")};export{b as default};
